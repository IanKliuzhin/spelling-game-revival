{"version":3,"sources":["store/connectionStore/types.ts","components/GlobalWrapper/GlobalWrapper.tsx","store/connectionStore/firebaseConfig.ts","store/connectionStore/connectionStore.ts","store/gameStore/types.ts","store/gameStore/exercises.ts","components/Button/Button.tsx","store/gameStore/gameStore.ts","utils/helpers.ts","store/pageStore/pageStore.ts","store/battleStore/battleStore.ts","store/store.ts","pages/ConnectionForm/ConnectionForm.tsx","pages/BattleInfo/BattleInfo.tsx","components/PageManager/PageManager.tsx","pages/MainMenu/MainMenu.tsx","pages/DifficultyChoice/DifficultyChoice.tsx","pages/Battle/Battle.tsx","components/Button/MainMenuButton/MainMenuButton.tsx","components/Button/StartButton/StartButton.tsx","components/LifeItem/LifeItem.tsx","components/LifeList/LifeList.tsx","components/LetterAnswer/LetterAnswer.tsx","components/WordAnswer/WordAnswer.tsx","components/InputLetter/InputLetter.tsx","components/Countdown/Countdown.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["MessageType","GlobalWrapper","children","className","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","DifficultyType","PlayerType","CONNECTION_CONFIG","iceServers","urls","ConnectionStore","rootStore","db","connectionId","connection","channel","isConnected","setIsConnected","startHostSession","a","RTCPeerConnection","nanoid","oniceconnectionstatechange","iceConnectionState","gameStore","resetGame","onicecandidate","event","console","log","candidate","set","ref","value","JSON","stringify","setChannel","createDataChannel","maxRetransmits","createOffer","offer","setLocalDescription","onValue","snapshot","exists","answer","parse","val","setRemoteDescription","addIceCandidate","RTCIceCandidate","startClientSession","receiveChannelCallback","ev","ondatachannel","createAnswer","onmessage","data","handleMessage","onclose","send","onerror","error","onopen","sendMessage","message","closeConnection","remove","close","type","START_GAME","startGame","START_BATTLE","startBattle","exercise","FINISH_EXERCISE","saveBattleResult","secondsLeft","lifesLeft","END_GAME","endGame","REQUEST_RESTART","saveRestartRequest","makeObservable","this","observable","action","app","initializeApp","getDatabase","ButtonType","exercises","EASY","word","soundSrc","imageSrc","MEDIUM","HARD","GameStore","difficulty","playerType","HOST","gameId","isGameStarted","isGameEnded","heroScore","rivalScore","currentBattleIndex","heroBattleResult","rivalBattleResult","setDifficulty","setPlayerType","setScore","getExercises","array","arrayCopy","i","length","j","Math","floor","random","shuffle","slice","pageStore","changePage","battleStore","connectionStore","addScores","result","isRival","endBattle","PageStore","activePageName","pageName","BattleStore","exerciseData","counterLife","listLetter","isMistake","isPlayingSound","isCorrectAnswer","activeLetter","setActiveLetter","letter","getMistake","setPlayingSound","state","setMistake","getListLetter","setLetter","checkMistake","checkLetter","push","checkWord","indexOf","RootStore","ContextStore","createContext","useStore","useContext","ConnectionForm","observer","useState","setGameId","isConnecting","setIsConnecting","handleConnectClick","useEffect","onChange","target","handleClick","text","BattleInfo","pages","mainMenu","CLIENT","difficultyChoice","Object","values","map","handleDifficultyChoice","connectionForm","battleInfo","battle","styleImage","backgroundImage","isBattleEnded","isCountdownGoing","setIsCountdownGoing","styleAnswer","cn","correctAnswer","count","callback","style","onClick","src","playing","onEnd","WordAnswer","letters","PageManager","PageComponent","Button","MainMenuButton","MAIN_MENU","StartButton","getText","LifeItem","isDisabled","styleItem","disabledElem","LifeList","listItem","LetterAnswer","index","InputLetter","styleContainer","hide","mistake","autoFocus","maxLength","Countdown","setSecondsLeft","window","setTimeout","App","onPerfEntry","store","DEBUG_STORE","ReactDOM","render","Provider","document","getElementById","runApp","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB"],"mappings":"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","file":"static/js/main.776e745a.chunk.js","sourcesContent":["import { Database } from '@firebase/database';\nimport { RootStore } from '..';\nimport { ExerciseDataType } from '../battleStore';\n\nexport type ConnectionStoreType = {\n  db: Database;\n  connectionId: string | null;\n  connection: RTCPeerConnection | null;\n  channel: RTCDataChannel | null;\n  isConnected: boolean;\n  rootStore: RootStore;\n  setIsConnected: (isConnected: boolean) => void;\n  startHostSession: () => Promise<void>;\n  startClientSession: (connectionId: string) => Promise<void>;\n  setChannel: (channel: RTCDataChannel) => void;\n  sendMessage: (message: Message) => void;\n  closeConnection: () => void;\n  handleMessage: (message: Message) => void;\n};\n\nexport enum MessageType {\n  START_GAME = 'start-game',\n  START_BATTLE = 'start-battle',\n  FINISH_EXERCISE = 'finish-exercise',\n  END_GAME = 'end-game',\n  REQUEST_RESTART = 'request-restart',\n}\n\nexport type Message =\n  | {\n      type: MessageType.START_GAME;\n    }\n  | {\n      type: MessageType.START_BATTLE;\n      exercise: ExerciseDataType;\n    }\n  | {\n      type: MessageType.FINISH_EXERCISE;\n      secondsLeft: number;\n      lifesLeft: number;\n    }\n  | {\n      type: MessageType.END_GAME;\n    }\n  | {\n      type: MessageType.REQUEST_RESTART;\n    };\n","import { ReactNode } from 'react';\n\nimport './style.scss';\n\nexport const GlobalWrapper = ({ children }: { children: ReactNode }) => {\n  return <div className=\"globalWrapper\">{children}</div>;\n};\n","export const firebaseConfig = {\n  apiKey: 'AIzaSyCfIbQmfN8ZWunC13zhJyDoQ1aL34mKvHI',\n  authDomain: 'react-p2p-test.firebaseapp.com',\n  databaseURL:\n    'https://react-p2p-test-default-rtdb.europe-west1.firebasedatabase.app',\n  projectId: 'react-p2p-test',\n  storageBucket: 'react-p2p-test.appspot.com',\n  messagingSenderId: '54650620648',\n  appId: '1:54650620648:web:a3a8bc21fd8bcd4782975d',\n};\n","import { makeObservable, observable, action } from 'mobx';\nimport { initializeApp } from 'firebase/app';\nimport {\n  Database,\n  getDatabase,\n  ref,\n  set,\n  onValue,\n  remove,\n} from 'firebase/database';\nimport { nanoid } from 'nanoid';\nimport { firebaseConfig } from './firebaseConfig';\nimport { RootStore } from '..';\nimport { ConnectionStoreType, Message, MessageType } from './types';\n\nconst CONNECTION_CONFIG = {\n  iceServers: [{ urls: 'stun:stun2.1.google.com:19302' }],\n};\n\nexport class ConnectionStore implements ConnectionStoreType {\n  db: Database;\n  connectionId: string | null = null;\n  connection: RTCPeerConnection | null = null;\n  channel: RTCDataChannel | null = null;\n  isConnected = false;\n  rootStore: RootStore;\n\n  constructor({ rootStore }: { rootStore: RootStore }) {\n    makeObservable(this, {\n      connectionId: observable,\n      isConnected: observable,\n      setIsConnected: action,\n      closeConnection: action,\n    });\n    this.rootStore = rootStore;\n    const app = initializeApp(firebaseConfig);\n    this.db = getDatabase(app);\n  }\n\n  setIsConnected = (isConnected: boolean) => {\n    this.isConnected = isConnected;\n  };\n\n  startHostSession = async () => {\n    this.connection = new RTCPeerConnection(CONNECTION_CONFIG);\n    this.connectionId = nanoid(5);\n    this.connection.oniceconnectionstatechange = () => {\n      if (this.connection?.iceConnectionState === 'disconnected') {\n        this.rootStore.gameStore.resetGame();\n      }\n    };\n\n    this.connection.onicecandidate = (event) => {\n      console.log('event.candidate', event.candidate);\n      if (event.candidate) {\n        set(ref(this.db, `${this.connectionId}/host-candidate`), {\n          value: JSON.stringify(event.candidate),\n        });\n      }\n    };\n\n    this.setChannel(\n      this.connection.createDataChannel('channel', { maxRetransmits: 10 }),\n    );\n\n    const offer = await this.connection.createOffer();\n    await this.connection.setLocalDescription(offer);\n    await set(ref(this.db, `${this.connectionId}/offer`), {\n      value: JSON.stringify(offer),\n    });\n    onValue(ref(this.db, `${this.connectionId}/answer`), (snapshot) => {\n      if (this.connection && snapshot.exists()) {\n        const answer = JSON.parse(snapshot.val().value);\n        this.connection.setRemoteDescription(answer);\n      }\n    });\n\n    onValue(\n      ref(this.db, `${this.connectionId}/client-candidate`),\n      (snapshot) => {\n        if (this.connection && snapshot.exists()) {\n          const candidate = JSON.parse(snapshot.val().value);\n          this.connection?.addIceCandidate(new RTCIceCandidate(candidate));\n          this.setIsConnected(true);\n        }\n      },\n    );\n  };\n\n  startClientSession = async (connectionId: string) => {\n    this.connectionId = connectionId;\n    this.connection = new RTCPeerConnection(CONNECTION_CONFIG);\n\n    const receiveChannelCallback = (ev: RTCDataChannelEvent) => {\n      this.setChannel(ev.channel);\n    };\n    this.connection.ondatachannel = receiveChannelCallback;\n\n    this.connection.onicecandidate = (event) => {\n      console.log('event.candidate', event.candidate);\n      if (event.candidate) {\n        set(ref(this.db, `${this.connectionId}/client-candidate`), {\n          value: JSON.stringify(event.candidate),\n        });\n      }\n    };\n\n    onValue(ref(this.db, `${this.connectionId}/offer`), async (snapshot) => {\n      if (this.connection && snapshot.exists()) {\n        const offer = JSON.parse(snapshot.val().value);\n        await this.connection?.setRemoteDescription(offer);\n        const answer = await this.connection?.createAnswer();\n        await this.connection?.setLocalDescription(answer);\n        await set(ref(this.db, `${this.connectionId}/answer`), {\n          value: JSON.stringify(answer),\n        });\n\n        onValue(\n          ref(this.db, `${this.connectionId}/host-candidate`),\n          (snapshot) => {\n            if (snapshot.exists()) {\n              const candidate = JSON.parse(snapshot.val().value);\n              this.connection?.addIceCandidate(new RTCIceCandidate(candidate));\n              this.setIsConnected(true);\n            }\n          },\n        );\n      }\n    });\n  };\n\n  setChannel = (channel: RTCDataChannel) => {\n    this.channel = channel;\n    this.channel.onmessage = (ev) => {\n      const data = JSON.parse(ev.data);\n      console.log('got data by channel', data);\n      this.handleMessage(data);\n    };\n    this.channel.onclose = () => {\n      this.channel?.send('Data Channel closed');\n      this.rootStore.gameStore.resetGame();\n    };\n    this.channel.onerror = (error) => {\n      console.log('Data Channel Error:', error);\n    };\n\n    this.channel.onopen = () => {\n      this.channel?.send('Data Channel open');\n    };\n  };\n\n  sendMessage = (message: Message) => {\n    this.channel?.send(JSON.stringify(message));\n  };\n\n  closeConnection = () => {\n    remove(ref(this.db, `${this.connectionId}`));\n    this.channel?.close();\n    this.connection?.close();\n\n    this.channel = null;\n    this.connection = null;\n    this.connectionId = null;\n    this.isConnected = false;\n  };\n\n  handleMessage = (message: Message) => {\n    switch (message.type) {\n      case MessageType.START_GAME:\n        this.rootStore.gameStore.startGame();\n        break;\n      case MessageType.START_BATTLE:\n        this.rootStore.gameStore.startBattle(message.exercise);\n        break;\n      case MessageType.FINISH_EXERCISE:\n        this.rootStore.gameStore.saveBattleResult(\n          {\n            secondsLeft: message.secondsLeft,\n            lifesLeft: message.lifesLeft,\n          },\n          true,\n        );\n        break;\n      case MessageType.END_GAME:\n        this.rootStore.gameStore.endGame();\n        break;\n      case MessageType.REQUEST_RESTART:\n        this.rootStore.gameStore.saveRestartRequest();\n        break;\n      default:\n        break;\n    }\n  };\n}\n","import { RootStore } from '..';\nimport { ExerciseDataType } from '../battleStore';\n\nexport enum DifficultyType {\n  EASY = 'easy',\n  MEDIUM = 'medium',\n  HARD = 'hard',\n}\n\nexport enum PlayerType {\n  HOST = 'host',\n  CLIENT = 'client',\n}\n\nexport type BattleResultType = {\n  secondsLeft: number;\n  lifesLeft: number;\n};\n\nexport type Exercises = Record<DifficultyType, ExerciseDataType[]>;\n\nexport type GameStoreType = {\n  difficulty: DifficultyType;\n  playerType: PlayerType;\n  gameId: string;\n  rootStore: RootStore;\n  isGameStarted: boolean;\n  isGameEnded: boolean;\n  heroScore: number;\n  rivalScore: number;\n  exercises: ExerciseDataType[];\n  currentBattleIndex: number;\n  heroBattleResult: BattleResultType | null;\n  rivalBattleResult: BattleResultType | null;\n  setDifficulty: (difficulty: DifficultyType) => void;\n  setPlayerType: (playerType: PlayerType) => void;\n  setScore: (heroScore: number, rivalScore: number) => void;\n  getExercises: () => void;\n  startGame: () => void;\n  startBattle: (exercise?: ExerciseDataType) => void;\n  addScores: () => void;\n  saveBattleResult: (result: BattleResultType, isRival: boolean) => void;\n  endGame: () => void;\n  endBattle: () => void;\n  saveRestartRequest: () => void;\n  resetGame: () => void;\n};\n","import { DifficultyType, Exercises } from './types';\n\nexport const exercises: Exercises = {\n  [DifficultyType.EASY]: [\n    {\n      word: 'народ',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'слева',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'халат',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'рекорд',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'вокруг',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'пакгауз',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'давить',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'налево',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'гараж',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'опушка',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'адъюнкт',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'архаизм',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'аккорд',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'озон',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'корзина',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n  ],\n  [DifficultyType.MEDIUM]: [\n    {\n      word: 'ноябрь',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'питомец',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'колосс',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'сувенир',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'мятеж',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'жюри',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'этикет',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'витязь',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'диплом',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'кипяток',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'втройне',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'сканер',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'огурец',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'пшеница',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'панцирь',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n  ],\n  [DifficultyType.HARD]: [\n    {\n      word: 'багаж',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'массаж',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'вброд',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'доныне',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'портрет',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'сеанс',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'осина',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'ладоши',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'амплуа',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'интерес',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'балет',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'престол',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'щеколда',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'пример',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n    {\n      word: 'мебель',\n      soundSrc: '/',\n      imageSrc: '/',\n    },\n  ],\n};\n","import cn from 'classnames';\nimport './style.scss';\n\nexport enum ButtonType {\n  MAIN_MENU = 'mainMenu',\n  START_GAME = 'startGame',\n}\n\nexport const Button = ({\n  type,\n  handleClick,\n  text,\n}: {\n  handleClick?: () => void;\n  type?: ButtonType;\n  text: string;\n}) => {\n  return (\n    <div className={cn('button', type)} onClick={handleClick}>\n      {text}\n    </div>\n  );\n};\n","import { action, makeObservable, observable } from 'mobx';\nimport { shuffle } from 'src/utils/helpers';\nimport { RootStore } from '..';\nimport { ExerciseDataType } from '../battleStore';\nimport { MessageType } from '../connectionStore';\nimport { exercises } from './exercises';\nimport {\n  BattleResultType,\n  DifficultyType,\n  GameStoreType,\n  PlayerType,\n} from './types';\n\nconst BATTLES_AMOUNT = 10;\nconst REWARD_FOR_LIFE = 100;\nconst REWARD_FOR_SECOND = 100;\n\nexport class GameStore implements GameStoreType {\n  difficulty = DifficultyType.EASY;\n  playerType = PlayerType.HOST;\n  gameId = '';\n  rootStore: RootStore;\n  isGameStarted = false;\n  isGameEnded = false;\n  heroScore = 0;\n  rivalScore = 0;\n  exercises: ExerciseDataType[] = [];\n  currentBattleIndex = 0;\n  heroBattleResult: BattleResultType | null;\n  rivalBattleResult: BattleResultType | null;\n\n  constructor({ rootStore }: { rootStore: RootStore }) {\n    makeObservable(this, {\n      difficulty: observable,\n      playerType: observable,\n      gameId: observable,\n      isGameStarted: observable,\n      isGameEnded: observable,\n      heroScore: observable,\n      rivalScore: observable,\n      heroBattleResult: observable,\n      rivalBattleResult: observable,\n      setDifficulty: action,\n      setPlayerType: action,\n      setScore: action,\n      getExercises: action,\n      startGame: action,\n      startBattle: action,\n      addScores: action,\n      saveBattleResult: action,\n      endGame: action,\n      endBattle: action,\n      saveRestartRequest: action,\n      resetGame: action,\n    });\n\n    this.rootStore = rootStore;\n    this.heroBattleResult = null;\n    this.rivalBattleResult = null;\n  }\n\n  setDifficulty = (difficulty: DifficultyType) => {\n    this.difficulty = difficulty;\n  };\n\n  setPlayerType = (playerType: PlayerType) => {\n    this.playerType = playerType;\n  };\n\n  setScore = (heroScore: number, rivalScore: number) => {\n    this.heroScore = heroScore;\n    this.rivalScore = rivalScore;\n  };\n\n  getExercises = () => {\n    this.exercises = shuffle(exercises[this.difficulty]).slice(\n      0,\n      BATTLES_AMOUNT,\n    );\n    console.log('this.exercises', this.exercises);\n  };\n\n  startGame = () => {\n    this.getExercises();\n    this.setScore(0, 0);\n    this.isGameStarted = true;\n    this.rootStore.pageStore.changePage('battle');\n    if (this.playerType === PlayerType.HOST) this.startBattle();\n  };\n\n  startBattle = (exercise?: ExerciseDataType) => {\n    this.rivalBattleResult = null;\n    this.heroBattleResult = null;\n    if (exercise) {\n      this.rootStore.battleStore.startBattle(exercise);\n    } else {\n      const exercise = this.exercises[this.currentBattleIndex];\n      this.rootStore.connectionStore.sendMessage({\n        type: MessageType.START_BATTLE,\n        exercise,\n      });\n      this.rootStore.battleStore.startBattle(exercise);\n    }\n  };\n\n  addScores = () => {\n    this.heroScore +=\n      (this.heroBattleResult?.lifesLeft ?? 0) * REWARD_FOR_LIFE +\n      (this.heroBattleResult?.secondsLeft ?? 0) * REWARD_FOR_SECOND;\n    this.rivalScore +=\n      (this.rivalBattleResult?.lifesLeft ?? 0) * REWARD_FOR_LIFE +\n      (this.rivalBattleResult?.secondsLeft ?? 0) * REWARD_FOR_SECOND;\n  };\n\n  saveBattleResult = (result: BattleResultType, isRival = false) => {\n    if (isRival) {\n      this.rivalBattleResult = result;\n      if (this.heroBattleResult) this.endBattle();\n    } else {\n      this.rootStore.connectionStore.sendMessage({\n        type: MessageType.FINISH_EXERCISE,\n        ...result,\n      });\n      this.heroBattleResult = result;\n      if (this.rivalBattleResult) this.endBattle();\n    }\n  };\n\n  endGame = () => {\n    this.isGameEnded = true;\n    this.rootStore.pageStore.changePage('battleInfo');\n  };\n\n  endBattle = () => {\n    this.currentBattleIndex++;\n\n    if (\n      this.currentBattleIndex >= BATTLES_AMOUNT &&\n      this.playerType === PlayerType.HOST\n    ) {\n      this.rootStore.connectionStore.sendMessage({\n        type: MessageType.END_GAME,\n      });\n      this.endGame();\n    }\n  };\n\n  saveRestartRequest = () => {\n    // TODO сохранить согласие противника на перезапуск\n  };\n\n  resetGame = () => {\n    this.rootStore.pageStore.changePage('mainMenu');\n    this.rootStore.connectionStore.closeConnection();\n    this.gameId = '';\n  };\n}\n","export const shuffle = <T>(array: T[]): T[] => {\n  const arrayCopy = [...array];\n  for (let i = arrayCopy.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [arrayCopy[i], arrayCopy[j]] = [arrayCopy[j], arrayCopy[i]];\n  }\n\n  return arrayCopy;\n};\n","import { action, makeObservable, observable } from 'mobx';\n\nexport type PageNameType =\n  | 'mainMenu'\n  | 'difficultyChoice'\n  | 'connectionForm'\n  | 'battleInfo'\n  | 'battle';\n\nexport class PageStore {\n  activePageName: PageNameType = 'mainMenu';\n  constructor() {\n    makeObservable(this, {\n      activePageName: observable,\n      changePage: action,\n    });\n  }\n\n  changePage = (pageName: PageNameType) => {\n    this.activePageName = pageName;\n  };\n}\n","import { action, makeObservable, observable } from 'mobx';\n\nexport type ExerciseDataType = {\n  word: string;\n  soundSrc: string;\n  imageSrc: string;\n};\n\nexport type TimerType = number;\n\nexport class BattleStore {\n  exerciseData: ExerciseDataType;\n\n  counterLife: number;\n\n  listLetter: string[];\n\n  isMistake: boolean;\n\n  isPlayingSound: boolean;\n\n  isCorrectAnswer: boolean;\n\n  activeLetter: string;\n\n  constructor() {\n    makeObservable(this, {\n      counterLife: observable,\n      listLetter: observable,\n      isMistake: observable,\n      activeLetter: observable,\n      isPlayingSound: observable,\n      isCorrectAnswer: observable,\n      setLetter: action,\n      setMistake: action,\n      setActiveLetter: action,\n      setPlayingSound: action,\n    });\n\n    this.counterLife = 3;\n    this.listLetter = ['г', 'е'];\n    this.isMistake = false;\n    this.activeLetter = '';\n    this.isPlayingSound = false;\n    this.isCorrectAnswer = false;\n\n    this.exerciseData = {\n      word: 'гепард',\n      soundSrc:\n        'https://cms-content.uchi.ru/audios/reading/lesson_2_12/2.12._urok_5.3.mp3',\n      imageSrc: 'https://mirplaneta.ru/images/6/1214.jpg',\n    };\n  }\n\n  setActiveLetter = (letter: string) => {\n    this.activeLetter = letter;\n  };\n\n  getMistake = () => {\n    return this.isMistake;\n  };\n\n  setPlayingSound = (state: boolean) => {\n    this.isPlayingSound = state;\n  };\n\n  setMistake = (state: boolean) => {\n    this.isMistake = state;\n  };\n\n  getListLetter = () => {\n    return this.listLetter;\n  };\n\n  setLetter = (letter: string) => {\n    this.setActiveLetter(letter);\n    this.checkMistake(this.checkLetter(letter));\n    if (this.getMistake()) return;\n    this.listLetter.push(letter);\n    this.setActiveLetter('');\n    this.checkWord();\n  };\n\n  checkWord = () => {\n    if (this.listLetter.length === this.exerciseData.word.length) {\n      this.endBattle();\n    }\n  };\n\n  checkMistake = (isMistake: boolean) => {\n    this.setMistake(isMistake);\n  };\n\n  checkLetter = (letter: string) => {\n    const valueLetter = this.exerciseData.word.indexOf(letter);\n    const countLetters = this.listLetter.length;\n    const mistake = valueLetter === countLetters ? false : true;\n    return mistake;\n  };\n\n  startBattle = (exercise: ExerciseDataType) => {\n    // TODO сохранение текущего задания, сброс жизней на 3, сброс таймера на 10\n    console.log('exercise', exercise);\n  };\n\n  endBattle = () => {\n    this.isCorrectAnswer = true;\n    // TODO отправка в гейм стор результата\n    // const result: BattleResultType = {\n    //   secondsLeft: 2,\n    //   lifesLeft: 2,\n    // };\n    // this.rootStore.gameStore.saveBattleResult(result);\n  };\n}\n","import { createContext, useContext } from 'react';\nimport { GameStore } from './gameStore/gameStore';\nimport { PageStore } from './pageStore';\nimport { BattleStore } from './battleStore';\nimport { ConnectionStore, ConnectionStoreType } from './connectionStore';\n\nexport class RootStore {\n  pageStore: PageStore;\n  gameStore: GameStore;\n  connectionStore: ConnectionStoreType;\n  battleStore: BattleStore;\n\n  constructor() {\n    this.pageStore = new PageStore();\n    this.gameStore = new GameStore({ rootStore: this });\n    this.connectionStore = new ConnectionStore({ rootStore: this });\n    this.battleStore = new BattleStore();\n  }\n}\n\nexport const createStore = (): RootStore => {\n  return new RootStore();\n};\n\nexport const ContextStore = createContext<RootStore>({} as RootStore);\n\nexport const useStore = (): RootStore => useContext<RootStore>(ContextStore);\n","import { observer } from 'mobx-react-lite';\nimport { useEffect, useState } from 'react';\nimport { Button, MainMenuButton } from 'src/components';\nimport { useStore } from 'src/store';\nimport './style.scss';\n\nexport const ConnectionForm = observer(() => {\n  const [gameId, setGameId] = useState('');\n  const [isConnecting, setIsConnecting] = useState(false);\n\n  const { pageStore, connectionStore } = useStore();\n  const { isConnected } = connectionStore;\n\n  const handleConnectClick = async () => {\n    setIsConnecting(true);\n    await connectionStore.startClientSession(gameId);\n  };\n\n  useEffect(() => {\n    if (isConnected) {\n      pageStore.changePage('battleInfo');\n    }\n  }, [isConnected]);\n\n  return (\n    <div className=\"connectionForm\">\n      {isConnecting ? (\n        'Подключение...'\n      ) : (\n        <div className=\"formWrapper\">\n          Веди код игры:\n          <input value={gameId} onChange={(ev) => setGameId(ev.target.value)} />\n          <Button\n            handleClick={() => handleConnectClick()}\n            text=\"Подключиться\"\n          />\n        </div>\n      )}\n      <MainMenuButton />\n    </div>\n  );\n});\n","import { observer } from 'mobx-react-lite';\nimport { useStore } from 'src/store';\nimport { MainMenuButton, StartButton } from 'src/components';\nimport { PlayerType } from 'src/store/gameStore';\nimport './style.scss';\n\nexport const BattleInfo = observer(() => {\n  const { gameStore, connectionStore } = useStore();\n  const { isConnected, connectionId } = connectionStore;\n  const { playerType } = gameStore;\n\n  return (\n    <div className=\"battleInfo\">\n      {playerType === PlayerType.HOST && (\n        <div className=\"battleCode\">\n          Код игры: {connectionId}. Отправь его сопернику для подключения.\n        </div>\n      )}\n      <div className=\"fighter hero\"></div>\n      <div className=\"versus\">VS</div>\n      {isConnected ? (\n        <div className=\"fighter rival\"></div>\n      ) : (\n        'Ожидание соперника...'\n      )}\n      <MainMenuButton />\n      {isConnected && playerType === PlayerType.HOST && (\n        <StartButton type=\"game\" />\n      )}\n    </div>\n  );\n});\n","import { observer } from 'mobx-react-lite';\nimport {\n  MainMenu,\n  DifficultyChoice,\n  ConnectionForm,\n  BattleInfo,\n  Battle,\n} from 'src/pages';\nimport { useStore } from 'src/store';\nimport { PageNameType } from 'src/store/pageStore';\n\nconst pages: Record<PageNameType, () => JSX.Element> = {\n  mainMenu: MainMenu,\n  difficultyChoice: DifficultyChoice,\n  connectionForm: ConnectionForm,\n  battleInfo: BattleInfo,\n  battle: Battle,\n};\n\nexport const PageManager = observer(() => {\n  const { pageStore } = useStore();\n\n  const PageComponent = pages[pageStore.activePageName];\n\n  return <PageComponent />;\n});\n","import { Button } from 'src/components';\nimport { useStore } from 'src/store';\nimport { PlayerType } from 'src/store/gameStore';\nimport './style.scss';\n\nexport const MainMenu = () => {\n  const { gameStore, pageStore, connectionStore } = useStore();\n\n  const handleCreateGameClick = () => {\n    gameStore.setPlayerType(PlayerType.HOST);\n    pageStore.changePage('difficultyChoice');\n    connectionStore.startHostSession();\n  };\n\n  const handleConnectClick = () => {\n    gameStore.setPlayerType(PlayerType.CLIENT);\n    pageStore.changePage('connectionForm');\n  };\n\n  return (\n    <div className=\"mainPage\">\n      <div className=\"wrapperButton\">\n        <Button handleClick={handleCreateGameClick} text=\"Создать битву\" />\n        <Button\n          handleClick={handleConnectClick}\n          text=\"Присоединиться к битве\"\n        />\n      </div>\n    </div>\n  );\n};\n","import { Button, MainMenuButton } from 'src/components';\nimport { useStore } from 'src/store';\nimport { DifficultyType } from 'src/store/gameStore';\nimport './style.scss';\n\nexport const DifficultyChoice = () => {\n  const { gameStore, pageStore } = useStore();\n\n  const handleDifficultyChoice = (difficulty: DifficultyType) => {\n    gameStore.setDifficulty(difficulty);\n    pageStore.changePage('battleInfo');\n  };\n\n  return (\n    <div className=\"difficultyPage\">\n      <div className=\"wrapperButton\">\n        {Object.values(DifficultyType).map((difficulty) => (\n          <Button\n            key={difficulty}\n            handleClick={() => handleDifficultyChoice(difficulty)}\n            text={difficulty}\n          />\n        ))}\n      </div>\n      <MainMenuButton />\n    </div>\n  );\n};\n","import { observer } from 'mobx-react-lite';\nimport { useEffect, useState } from 'react';\nimport { useStore } from 'src/store';\nimport { PlayerType } from 'src/store/gameStore';\nimport { Countdown, LifeList, StartButton, WordAnswer } from 'src/components';\nimport ReactHowler from 'react-howler';\nimport cn from 'classnames';\nimport './style.scss';\n\nexport const Battle = observer(() => {\n  const { battleStore, gameStore } = useStore();\n  const { counterLife, exerciseData, isPlayingSound, isCorrectAnswer } =\n    battleStore;\n  const {\n    playerType,\n    heroScore,\n    rivalScore,\n    heroBattleResult,\n    rivalBattleResult,\n  } = gameStore;\n  const listLetter = battleStore.getListLetter();\n  const styleImage = {\n    backgroundImage: exerciseData.imageSrc,\n  };\n  const isBattleEnded = heroBattleResult && rivalBattleResult;\n\n  const [isCountdownGoing, setIsCountdownGoing] = useState(false);\n\n  const handleClickExercise = () => {\n    battleStore.setPlayingSound(true);\n  };\n\n  const handleEndSound = () => {\n    battleStore.setPlayingSound(false);\n  };\n\n  useEffect(() => {\n    battleStore.setPlayingSound(true);\n  }, []);\n\n  useEffect(() => {\n    setIsCountdownGoing(true);\n  }, [exerciseData]);\n\n  const countdownCallback = () => {\n    setIsCountdownGoing(false);\n  };\n\n  const styleAnswer = cn('exercise', { correctAnswer: isCorrectAnswer });\n\n  // mistake - ошибка буквы\n  // correctAnswer - стили состояние правильного ответа\n\n  return (\n    <div className=\"pageBattle\">\n      <div className=\"headerWrapper\">\n        <div className=\"leftContainer characterInfoContainer\">\n          <div className=\"topLine\">\n            <div className=\"avatar\"></div>\n            <div className=\"nameContainer\">\n              <div className=\"nickname\">Ты</div>\n              <LifeList count={counterLife} />\n            </div>\n          </div>\n          <div className=\"glassesWrapper\">\n            <span className=\"glassesTitle\">Очки:</span>\n            <span className=\"glassesNumber\">{heroScore}</span>\n          </div>\n        </div>\n        <div className=\"centerContainer\">0:12</div>\n        <div className=\"rightContainer characterInfoContainer\">\n          <div className=\"topLine\">\n            <div className=\"avatar\"></div>\n            <div className=\"nameContainer\">\n              <div className=\"nickname\">Соперник</div>\n            </div>\n          </div>\n          <div className=\"glassesWrapper\">\n            <span className=\"glassesNumber\">{rivalScore}</span>\n            <span className=\"glassesTitle\">:Очки</span>\n          </div>\n        </div>\n      </div>\n      {isCountdownGoing ? (\n        <Countdown callback={countdownCallback} />\n      ) : (\n        <>\n          <div className=\"exerciseContainer\">\n            <div className={styleAnswer}>\n              <div\n                className=\"imageExercise\"\n                style={styleImage}\n                onClick={handleClickExercise}\n              >\n                <ReactHowler\n                  src={exerciseData.soundSrc}\n                  playing={isPlayingSound}\n                  onEnd={handleEndSound}\n                />\n                <div className=\"soundIcon\"></div>\n              </div>\n              <WordAnswer\n                letters={listLetter}\n                isCorrectAnswer={isCorrectAnswer}\n              />\n            </div>\n          </div>\n          <div className=\"keyBoardWrapper\">\n            <div className=\"keyBoardContainer\">\n              <div className=\"keyBoardItem\"></div>\n            </div>\n          </div>\n        </>\n      )}\n      {playerType === PlayerType.HOST && isBattleEnded && (\n        <StartButton type=\"battle\" />\n      )}\n    </div>\n  );\n});\n","import { Button, ButtonType } from 'src/components';\nimport { useStore } from 'src/store';\n\nexport const MainMenuButton = () => {\n  const { gameStore } = useStore();\n  return (\n    <Button\n      type={ButtonType.MAIN_MENU}\n      handleClick={() => gameStore.resetGame()}\n      text=\"На главную\"\n    />\n  );\n};\n","import { Button, ButtonType } from 'src/components';\nimport { useStore } from 'src/store';\nimport { MessageType } from 'src/store/connectionStore/types';\n\nexport const StartButton = ({ type }: { type: 'game' | 'battle' }) => {\n  const { gameStore, connectionStore } = useStore();\n  const { isGameEnded } = gameStore;\n  const handleClick = () => {\n    switch (type) {\n      case 'game':\n        connectionStore.sendMessage({\n          type: MessageType.START_GAME,\n        });\n        gameStore.startGame();\n        break;\n      case 'battle':\n        gameStore.startBattle();\n        break;\n      default:\n        break;\n    }\n  };\n\n  const getText = () => {\n    switch (type) {\n      case 'game':\n        return isGameEnded ? 'Новая игра' : 'Начать игру';\n      case 'battle':\n        return 'Следующее слово';\n      default:\n        return '';\n    }\n  };\n\n  return (\n    <Button\n      type={ButtonType.START_GAME}\n      handleClick={handleClick}\n      text={getText()}\n    />\n  );\n};\n","import cn from 'classnames';\nimport './style.scss';\n\nexport const LifeItem = ({ isDisabled }: { isDisabled: boolean }) => {\n  const styleItem = cn('lifeElement', { disabledElem: isDisabled });\n  return <div className={styleItem} />;\n};\n","import { LifeItem } from '../index';\nimport './style.scss';\n\nexport const LifeList = ({ count }: { count: number }) => {\n  const listItem = [];\n  for (let i = 1; i < 4; i++) {\n    if (i < count) {\n      listItem.push(<LifeItem isDisabled={false} key={`lifeItem_${i}`} />);\n    } else {\n      listItem.push(<LifeItem isDisabled={true} key={`lifeItem_${i}`} />);\n    }\n  }\n  return <div className=\"lifeList\">{listItem}</div>;\n};\n","import './style.scss';\n\nexport const LetterAnswer = ({ letter }: { letter: string }) => {\n  return <div className=\"letterAnswer\">{letter}</div>;\n};\n","import { observer } from 'mobx-react-lite';\nimport './style.scss';\nimport { LetterAnswer, InputLetter } from '../index';\n\nexport const WordAnswer = observer(\n  ({\n    letters,\n    isCorrectAnswer,\n  }: {\n    letters: string[];\n    isCorrectAnswer: boolean;\n  }) => {\n    const listLetter = [];\n    for (const index in letters) {\n      listLetter.push(\n        <LetterAnswer letter={letters[index]} key={`LetterAnswer_${index}`} />,\n      );\n    }\n\n    return (\n      <div className=\"wordAnswer\">\n        {listLetter}\n        {!isCorrectAnswer && <InputLetter />}\n      </div>\n    );\n  },\n);\n","import { observer } from 'mobx-react-lite';\nimport cn from 'classnames';\nimport { useStore } from 'src/store';\nimport './style.scss';\n\nexport const InputLetter = observer(() => {\n  const { battleStore } = useStore();\n  const { activeLetter } = battleStore;\n  const isHide = false;\n  const isMistake = battleStore.getMistake();\n\n  const styleContainer = cn('inputLetterContainer', {\n    hide: isHide,\n    mistake: isMistake,\n  });\n\n  const handleChangeInput = (event: any) => {\n    const letter = event.target.value;\n    if (letter.length > 1) {\n      event.target.value = letter[0];\n    }\n\n    battleStore.setLetter(letter);\n  };\n\n  return (\n    <div className={styleContainer}>\n      <input\n        type=\"text\"\n        className=\"inputLetter\"\n        autoFocus={true}\n        maxLength={1}\n        onChange={handleChangeInput}\n        value={activeLetter}\n      />\n    </div>\n  );\n});\n","import { useEffect, useState } from 'react';\nimport './style.scss';\n\nconst SECONDS_AMOUNT = 3;\n\nexport const Countdown = ({ callback }: { callback: () => void }) => {\n  const [secondsLeft, setSecondsLeft] = useState(SECONDS_AMOUNT);\n\n  useEffect(() => {\n    if (secondsLeft === 0) {\n      callback();\n    } else {\n      window.setTimeout(() => {\n        setSecondsLeft(secondsLeft - 1);\n      }, 1000);\n    }\n  }, [secondsLeft]);\n\n  return <div className=\"countdown\">{secondsLeft}</div>;\n};\n","import { GlobalWrapper, PageManager } from './components';\nimport './App.scss';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <GlobalWrapper>\n        <PageManager />\n      </GlobalWrapper>\n    </div>\n  );\n}\n\nexport { App };\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport { reportWebVitals };\n","import ReactDOM from 'react-dom';\nimport { App } from './App';\nimport { reportWebVitals } from './reportWebVitals';\nimport { ContextStore, createStore } from './store';\nimport 'firebase/database';\nimport 'webrtc-adapter';\nimport './index.scss';\n\nconst runApp = () => {\n  const store = createStore();\n  window.DEBUG_STORE = store;\n\n  ReactDOM.render(\n    <ContextStore.Provider value={store}>\n      <App />\n    </ContextStore.Provider>,\n    document.getElementById('root'),\n  );\n};\n\nrunApp();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}